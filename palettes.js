// palettes.js - Color palette definitions and utilities

const colorPalettes = [
  {
    name: 'Solar_Inferno',
    colors: [[10,5,5], [80,20,20], [150,40,20], [200,80,30], [230,140,50], [250,200,80], [255,240,160]]
  },
  {
    name: 'Aurora_Burst',
    colors: [[5,10,20], [20,40,120], [40,100,180], [120,200,200], [180,220,160], [220,240,120], [255,250,200]]
  },
  {
    name: 'Hypernova',
    colors: [[10,5,30], [60,10,80], [120,20,160], [180,40,200], [220,80,160], [240,140,100], [255,220,180]]
  },
  {
    name: 'Lava_Storm',
    colors: [[20,5,5], [80,10,10], [140,20,20], [200,40,30], [240,80,40], [255,160,80], [255,220,140]]
  },
  {
    name: 'Bioelectric',
    colors: [[5,10,5], [20,40,20], [40,120,40], [60,200,80], [100,240,160], [180,255,220], [240,255,255]]
  },
  {
    name: 'Cosmic_Plasma',
    colors: [[5,5,20], [20,20,80], [60,30,160], [120,40,200], [180,60,220], [220,120,240], [255,200,255]]
  },
  {
    name: 'Deep_Spectrum',
    colors: [[5,5,25], [20,40,80], [50,80,160], [100,120,220], [160,160,240], [200,200,255], [240,240,255]]
  },
  {
    name: 'Arcane_Fire',
    colors: [[15,5,20], [80,10,60], [140,20,80], [200,40,80], [240,80,40], [255,160,60], [255,220,150]]
  },
  {
    name: 'Radiant_Horizon',
    colors: [[5,5,10], [20,40,80], [60,100,140], [120,160,200], [180,200,220], [220,230,240], [255,250,255]]
  },
  {
    name: 'Solaris',
    colors: [[10,10,5], [60,40,10], [140,100,20], [200,160,40], [240,200,100], [255,230,160], [255,250,220]]
  },
  {
    name: 'Verdant_Dream',
    colors: [[5,10,5], [20,40,20], [40,80,40], [80,140,80], [140,180,100], [200,220,140], [240,255,200]]
  },
  {
    name: 'Autumn_Tide',
    colors: [[20,10,5], [60,30,10], [120,60,20], [180,100,40], [220,140,60], [240,180,100], [255,230,160]]
  },
  {
    name: 'Mountain_Mist',
    colors: [[5,10,20], [40,60,80], [80,100,120], [120,160,180], [160,200,200], [200,220,220], [240,250,255]]
  },
  {
    name: 'Stormbreaker',
    colors: [[10,10,20], [30,40,80], [60,80,140], [100,120,180], [140,160,200], [200,220,240], [255,255,255]]
  },
  {
    name: 'Shifting_Sands',
    colors: [[20,15,10], [60,40,20], [120,80,40], [160,120,60], [200,160,90], [230,200,140], [255,240,200]]
  },
  {
    name: 'Forest_Glades',
    colors: [[5,10,5], [20,40,20], [40,80,40], [80,120,60], [120,160,100], [160,200,140], [220,240,180]]
  },
  {
    name: 'Crystal_Caves',
    colors: [[10,10,20], [40,40,80], [80,80,160], [120,120,200], [160,180,240], [200,220,255], [240,250,255]]
  },
  {
    name: 'Dusk_Breeze',
    colors: [[10,5,20], [40,20,80], [80,40,120], [140,80,160], [180,120,180], [220,160,200], [255,200,220]]
  },
  {
    name: 'Moonlit_Waters',
    colors: [[5,10,20], [20,40,80], [40,80,140], [60,120,180], [100,160,220], [160,200,240], [220,240,255]]
  },
  {
    name: 'Celestial_Grove',
    colors: [[10,20,10], [40,80,40], [80,140,80], [120,180,120], [160,200,160], [200,220,200], [240,250,240]]
  },
  {
    name: 'Neon_Matrix',
    colors: [[5,5,10], [20,20,40], [40,200,80], [80,255,160], [160,255,220], [200,255,240], [240,255,255]]
  },
  {
    name: 'Quantum_Flux',
    colors: [[10,5,20], [40,20,80], [80,40,160], [120,80,200], [160,140,240], [200,200,255], [240,240,255]]
  },
  {
    name: 'Plasma_Veil',
    colors: [[10,5,30], [40,20,140], [80,40,200], [140,80,240], [200,140,255], [230,200,255], [255,240,255]]
  },
  {
    name: 'Dark_Matter',
    colors: [[5,5,10], [20,20,30], [40,40,60], [80,80,120], [120,120,180], [160,160,220], [220,220,255]]
  },
  {
    name: 'Ion_Storm',
    colors: [[10,10,20], [40,40,80], [80,80,160], [140,120,200], [180,160,220], [220,200,240], [255,240,255]]
  },
  {
    name: 'Event_Horizon',
    colors: [[5,5,5], [20,10,20], [40,20,60], [80,40,120], [120,80,180], [200,140,220], [255,220,255]]
  },
  {
    name: 'Biohazard_Glow',
    colors: [[10,10,5], [40,40,10], [80,120,20], [120,200,40], [160,240,80], [200,255,140], [240,255,200]]
  },
  {
    name: 'Digital_Sunset',
    colors: [[10,5,20], [60,10,80], [120,40,140], [180,80,160], [220,140,160], [240,180,160], [255,220,180]]
  },
  {
    name: 'Synthetic_Wave',
    colors: [[5,10,20], [20,40,100], [40,100,200], [80,160,240], [120,200,255], [180,230,255], [230,250,255]]
  },
  {
    name: 'Photon_Flux',
    colors: [[5,5,20], [20,20,80], [60,60,160], [120,120,220], [180,180,240], [220,220,255], [255,250,255]]
  }
  
  ];
  
  function interpolateColor(c1, c2, t) {
    const ease = t * t * (3 - 2 * t);
    return [
      Math.round(c1[0] + (c2[0] - c1[0]) * ease),
      Math.round(c1[1] + (c2[1] - c1[1]) * ease),
      Math.round(c1[2] + (c2[2] - c1[2]) * ease)
    ];
  }
  
  function getColorFromPalette(normalized, palette) {
    const position = normalized * (palette.colors.length - 1);
    const index = Math.floor(position);
    const t = position - index;
    
    if (index >= palette.colors.length - 1) {
      return palette.colors[palette.colors.length - 1];
    }
    
    return interpolateColor(palette.colors[index], palette.colors[index + 1], t);
  }
  
  function getRandomPalette() {
    return colorPalettes[Math.floor(Math.random() * colorPalettes.length)];
  }
  
  function getPaletteByName(name) {
    return colorPalettes.find(p => p.name === name);
  }
  
  module.exports = {
    colorPalettes,
    getColorFromPalette,
    getRandomPalette,
    getPaletteByName
  };